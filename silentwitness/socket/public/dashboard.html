<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Silent Witness — Live Dashboard</title>
  </head>
  <body>
    <h1>Live Reports</h1>
    <div id="feed">Waiting for reports…</div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io();
      socket.on('report_submitted', (p) => {
        const div = document.getElementById('feed');
        const item = document.createElement('div');
        item.textContent = `[${new Date(p.timestamp).toLocaleTimeString()}] ${p.name || 'Anonymous'}: ${p.incident}`;
        div.prepend(item);
      });
    </script>
  </body>
</html>
